<div class="container">
  <form [formGroup] = 'posForm'>
      <div class="cointainer1">

      <div class="col1">

          <ng-container *ngFor="let field of fields">

            <mat-form-field appearance="outline">
                <mat-label>{{ field.label }}</mat-label>
                  <ng-container *ngIf="field.label === 'Category'">
                    <mat-select formControlName="categoryName" (ngModelChange) = "onCategorySelected($event)" name="category" [(ngModel)]="dataObj.category">
                        <mat-option *ngFor="let category of categories" [value]="category.categoryName">{{category.categoryName}}</mat-option>
                    </mat-select>
                  </ng-container>

                  <ng-container *ngIf="field.label === 'Product'">
                    <mat-select formControlName="product"  name="product" [(ngModel)]="dataObj.product">
                        <mat-option *ngFor="let product of products" [value]="product.productName">
                        {{ product.productName }}
                        </mat-option>
                    </mat-select>
                  </ng-container>



                  <ng-container >
                    <input type="number" formControlName="quantity" [(ngModel)]="dataObj.quantity"  matInput *ngIf="field.type === 'input'">
                  </ng-container>


              </mat-form-field>

          </ng-container>

          <button mat-fab color="success" aria-label="Example icon button with a Add icon" (click)="onSave()">
          <mat-icon >add</mat-icon>
          </button>
      </div>
      </div>
  </form>

  <form [formGroup] = 'totalForm'>

    <div class="container2">

        <div class="row1">
          <div class="container">
            <!-- <table mat-table class="sales-table-design" matSort aria-label="Elements">
              <ng-container *ngFor="let column of displayedColumns" [matColumnDef]="column">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  {{ columnNames[column] || column }}
                </th>

            <td mat-cell *matCellDef="let row">
              {{ row[column] }}
              <button mat-raised-button color="warn" *ngIf="column === 'Action'" (click)="onAddClicked(row) ">Delete</button>
            </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

            </table>

            <mat-paginator #paginator
                [length]="dataSource?.data?.length"
                [pageIndex]="0"
                [pageSize]="10"
                [pageSizeOptions]="[5, 10, 20]"
                aria-label="Select page">
            </mat-paginator> -->


                            <table class="table table-bordered">

                              <thead>
                                <tr>
                                  <th>Category</th>
                                  <th>Product</th>
                                  <th>Quantity</th>
                                  <th>Price</th>
                                  <th>Total</th>
                                  <th>Action</th>
                                </tr>
                              </thead>

                              <tbody>
                                <tr *ngFor="let item of dataArr; let sr = index   ">
                                  <td>{{item.category}}</td>
                                  <td>{{item.product}}</td>
                                  <td>{{item.quantity}}</td>
                                  <td>{{item.price}}</td>
                                  <td>{{item.total}}</td>
                                  <td><button>delete</button></td>
                                </tr>
                              </tbody>

                            </table>


          </div>
        </div>

        <div class="row2">
          <ng-container *ngFor="let field of subtotalFields">
            <mat-form-field appearance="outline" class="form-field">
              <input matInput [name]="field.name" type="number" placeholder="{{field.value}}" readonly>
            </mat-form-field>
            <mat-label for="{{field.name}}">{{field.label}}</mat-label>
          </ng-container>
          <button mat-raised-button class="btn-submit" (click)="checkout()">Submit</button>
        </div>


    </div>
  </form>

</div>
