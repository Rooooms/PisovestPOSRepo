<div class="container">
  <form [formGroup] = 'posForm'>
      <div class="cointainer1">
      <div class="col1">
          <ng-container *ngFor="let field of fields">
            <mat-form-field appearance="outline">
                <mat-label>{{ field.label }}</mat-label>
                  <ng-container *ngIf="field.label === 'Category'">
                    <mat-select formControlName="categoryName" (ngModelChange)="onCategorySelected($event)">
                        <mat-option *ngFor="let category of categories" [value]="category.id">{{category.categoryName}}</mat-option>
                    </mat-select>
                  </ng-container>

                  <ng-container *ngIf="field.label === 'Product'">
                    <mat-select formControlName="product">
                        <mat-option *ngFor="let product of products" [value]="product">
                        {{ product.productName }}
                        </mat-option>
                    </mat-select>
                  </ng-container>
                  
                  <ng-container *ngIf="field.label === 'input'">
                    <input matInput formControlName="quantity">
                  </ng-container>
                <input matInput *ngIf="field.type === 'input'" />

              </mat-form-field>
          </ng-container>

          <button mat-fab color="success" aria-label="Example icon button with a Add icon" (click)="addProduct()">
          <mat-icon>add</mat-icon>
          </button>
      </div>
      </div>
  </form>

  <form [formGroup] = 'totalForm'>
    <div class="container2">

        <div class="row1">
          <div class="container">
            <table mat-table class="sales-table-design" matSort aria-label="Elements">
              <ng-container *ngFor="let column of displayedColumns" [matColumnDef]="column">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  {{ columnNames[column] || column }}
                </th>

            <td mat-cell *matCellDef="let row">
              {{ row[column] }}
              <button mat-raised-button color="warn" *ngIf="column === 'Action'" (click)="addProduct() ">Delete</button>
            </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

            </table>

            <mat-paginator #paginator
                [length]="sales?.length"
                [pageIndex]="0"
                [pageSize]="10"
                [pageSizeOptions]="[5, 10, 20]"
                aria-label="Select page">
            </mat-paginator>
          </div>
        </div>

        <div class="row2">
          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Subtotal</mat-label>
            <input matInput formControlName="subTotal" [value]="subTotal" (change)="onChange($event)" readonly>
          </mat-form-field>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Tax Inclusive</mat-label>
            <input matInput formControlName="taxInclusive"  [value]="taxInclusive" (change)="onChange($event)" readonly>
          </mat-form-field>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Tax Amount</mat-label>
            <input matInput formControlName="taxAmount"  [value]="taxAmount"  (change)="onChange($event)" readonly>
          </mat-form-field>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Grand Total</mat-label>
            <input matInput formControlName="grandTotal"   [value]="grandTotal" (change)="onChange($event)" readonly>
          </mat-form-field>

          <button mat-raised-button class="btn-submit">Submit</button>
        </div>
        

    </div>
  </form>

</div>
